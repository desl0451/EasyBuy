(function(b){b.fn.soScrollFix=function(f,d){var e;if(arguments.length==1){e=(typeof(f)==="string")?{type:f}:f}else{e={type:f,position:d}}var c=b.extend({type:"scroll",position:"default",autoHide:false,hideHeight:400},e||{});b(this).each(function(){var g=new a(this,c);g.init()})};var a=function(d,c){this.o=b(d);this.opt=c};a.prototype={oInfo:null,IE6:b.browser.msie&&(b.browser.version=="6.0")&&!b.support.style,init:function(){var e=this,d=e.opt.type,c=e.o;this._getOInfo();if(d==="scroll"){e._typeScroll(c,e.oInfo)}if(d==="fix"){e._typeFix(c,e.oInfo)}if(e.opt.autoHide){e._autoHide(c,e.opt.autoHide,e.opt.hideHeight)}},_getOInfo:function(){var c=this.o;this.oInfo={top:c.offset().top,left:c.offset().left,posLeft:c.position().left,width:c.width(),height:c.height(),outHeight:c.outerHeight(true),cssPos:c.css("position"),cssWidth:c.css("width"),cssTop:c.css("top"),cssLeft:c.css("left")}},_typeScroll:function(d,f){var e=this,d=d,c=d.clone().empty().css("height",f.height);b(window).scroll(function(){var g=parseInt(b(window).scrollTop());if(g>=f.top){d.after(c);d.css({position:"fixed",top:0,left:f.left,width:f.width,zIndex:"10000"});if(e.IE6){d.css({position:"absolute",top:g,left:f.posLeft})}}else{if(c){c.remove()}d.css({position:f.cssPos,width:f.cssWidth,left:f.cssLeft,top:f.cssTop})}})},_typeFix:function(f,h){var g=this,f=f,e=h.top,c=g.opt.position;if(c==="top"){e=0}if(c==="bottom"){var d=b(window).height();e=d-h.outHeight}b("body").append(f);f.css({position:"fixed",top:e,left:h.left,width:h.width});if(g.IE6){f.css({position:"absolute",top:e,left:h.left})}b(window).scroll(function(){var i=parseInt(b(window).scrollTop());if(g.IE6){f.css({position:"absolute",top:i+parseInt(e)})}})},_autoHide:function(d,c,e){var f=this,d=d,c=c,e=e;(c==="out")?d.show():d.hide();b(window).scroll(function(){var g=parseInt(b(window).scrollTop());(c==="out")?(g>e)?d.fadeOut():d.fadeIn():(g<e)?d.fadeOut():d.fadeIn()})}}})(jQuery);
